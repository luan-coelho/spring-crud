<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <!--
  ╔══════════════════════════════════════════════════════════════════════════════╗
  ║  UI DROPDOWN COMPONENTS                                                       ║
  ║  Uso: <ui:dropdown th:replace="~{components/dropdown :: basic(id, label)}">          ║
  ║        <ul>...</ul>                                                           ║
  ║       </ui:dropdown>                                                          ║
  ╚══════════════════════════════════════════════════════════════════════════════╝
-->

  <!-- ===== Basic Dropdown ===== -->
  <th:block th:fragment="basic(id, label)">
    <div x-data="{ open: false }" class="relative inline-block text-left">
      <button
        type="button"
        @click="open = !open"
        @click.away="open = false"
        class="inline-flex items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700">
        <span th:text="${label}">Opções</span>
        <svg class="h-4 w-4 fill-current" :class="{ 'rotate-180': open }" viewBox="0 0 20 20">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289L10 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68342 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z" />
        </svg>
      </button>
      <div
        x-show="open"
        x-transition:enter="transition ease-out duration-100"
        x-transition:enter-start="opacity-0 scale-95"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-75"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-95"
        class="absolute right-0 z-50 mt-2 w-56 origin-top-right rounded-lg border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800"
        style="display: none">
        <div class="py-1" th:insert="${~{:: content}}">
          <!-- Menu content -->
        </div>
      </div>
    </div>
  </th:block>

  <!-- ===== Dropdown Item ===== -->
  <th:block th:fragment="item(url, label, iconType)">
    <a
      th:href="${url}"
      class="flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700">
      <!-- Edit Icon -->
      <svg
        th:if="${iconType == 'edit'}"
        class="h-4 w-4 fill-current text-gray-500 dark:text-gray-400"
        viewBox="0 0 20 20">
        <path
          d="M17.4142 2.58579C16.6332 1.80474 15.3668 1.80474 14.5858 2.58579L5 12.1716V15H7.82843L17.4142 5.41421C18.1953 4.63317 18.1953 3.36683 17.4142 2.58579Z" />
      </svg>
      <!-- Delete Icon -->
      <svg
        th:if="${iconType == 'delete'}"
        class="h-4 w-4 fill-current text-gray-500 dark:text-gray-400"
        viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M9 2C8.62123 2 8.27497 2.214 8.10557 2.55279L7.38197 4H4C3.44772 4 3 4.44772 3 5C3 5.55228 3.44772 6 4 6L4 16C4 17.1046 4.89543 18 6 18H14C15.1046 18 16 17.1046 16 16V6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H12.618L11.8944 2.55279C11.725 2.214 11.3788 2 11 2H9ZM7 8C7 7.44772 7.44772 7 8 7C8.55228 7 9 7.44772 9 8V14C9 14.5523 8.55228 15 8 15C7.44772 15 7 14.5523 7 14V8ZM12 7C11.4477 7 11 7.44772 11 8V14C11 14.5523 11.4477 15 12 15C12.5523 15 13 14.5523 13 14V8C13 7.44772 12.5523 7 12 7Z" />
      </svg>
      <!-- View Icon -->
      <svg
        th:if="${iconType == 'view'}"
        class="h-4 w-4 fill-current text-gray-500 dark:text-gray-400"
        viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M10 4C6.48191 4 3.49489 6.30917 2.4155 9.4593C2.3615 9.61687 2.3615 9.78794 2.41549 9.94552C3.49488 13.0957 6.48191 15.3619 10 15.3619C13.5181 15.3619 16.5051 13.0957 17.5845 9.94555C17.6385 9.78797 17.6385 9.6169 17.5845 9.45932C16.5051 6.30919 13.5181 4 10 4ZM10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" />
      </svg>
      <!-- Download Icon -->
      <svg
        th:if="${iconType == 'download'}"
        class="h-4 w-4 fill-current text-gray-500 dark:text-gray-400"
        viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M3 17C3 16.4477 3.44772 16 4 16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H4C3.44772 18 3 17.5523 3 17ZM6.29289 9.29289C6.68342 8.90237 7.31658 8.90237 7.70711 9.29289L9 10.5858V3C9 2.44772 9.44772 2 10 2C10.5523 2 11 2.44772 11 3V10.5858L12.2929 9.29289C12.6834 8.90237 13.3166 8.90237 13.7071 9.29289C14.0976 9.68342 14.0976 10.3166 13.7071 10.7071L10.7071 13.7071C10.3166 14.0976 9.68342 14.0976 9.29289 13.7071L6.29289 10.7071C5.90237 10.3166 5.90237 9.68342 6.29289 9.29289Z" />
      </svg>
      <!-- Settings Icon -->
      <svg
        th:if="${iconType == 'settings'}"
        class="h-4 w-4 fill-current text-gray-500 dark:text-gray-400"
        viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M11.49 3.17C11.11 1.61 8.89 1.61 8.51 3.17C8.36 3.77 7.73 4.14 7.14 3.95C5.57 3.49 4.27 5.13 5.19 6.47C5.54 6.97 5.4 7.64 4.87 7.96C3.46 8.79 4.01 10.93 5.63 10.98C6.23 11 6.69 11.51 6.64 12.11C6.52 13.71 8.41 14.62 9.51 13.42C9.93 12.95 10.67 12.95 11.09 13.42C12.19 14.62 14.08 13.71 13.96 12.11C13.91 11.51 14.37 11 14.97 10.98C16.59 10.93 17.14 8.79 15.73 7.96C15.2 7.64 15.06 6.97 15.41 6.47C16.33 5.13 15.03 3.49 13.46 3.95C12.87 4.14 12.24 3.77 12.09 3.17L11.49 3.17ZM10 13C11.6569 13 13 11.6569 13 10C13 8.34315 11.6569 7 10 7C8.34315 7 7 8.34315 7 10C7 11.6569 8.34315 13 10 13Z" />
      </svg>
      <span th:text="${label}">Item</span>
    </a>
  </th:block>

  <!-- ===== Dropdown Item Button ===== -->
  <th:block th:fragment="itemButton(onclick, label, iconType, variant)">
    <button
      type="button"
      th:onclick="${onclick}"
      th:class="${variant == 'danger'} 
      ? 'flex w-full items-center gap-2 px-4 py-2 text-sm text-error-600 hover:bg-error-50 dark:text-error-400 dark:hover:bg-error-500/10' 
      : 'flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'">
      <!-- Delete Icon -->
      <svg th:if="${iconType == 'delete'}" class="h-4 w-4 fill-current" viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M9 2C8.62123 2 8.27497 2.214 8.10557 2.55279L7.38197 4H4C3.44772 4 3 4.44772 3 5C3 5.55228 3.44772 6 4 6L4 16C4 17.1046 4.89543 18 6 18H14C15.1046 18 16 17.1046 16 16V6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H12.618L11.8944 2.55279C11.725 2.214 11.3788 2 11 2H9ZM7 8C7 7.44772 7.44772 7 8 7C8.55228 7 9 7.44772 9 8V14C9 14.5523 8.55228 15 8 15C7.44772 15 7 14.5523 7 14V8ZM12 7C11.4477 7 11 7.44772 11 8V14C11 14.5523 11.4477 15 12 15C12.5523 15 13 14.5523 13 14V8C13 7.44772 12.5523 7 12 7Z" />
      </svg>
      <!-- Logout Icon -->
      <svg th:if="${iconType == 'logout'}" class="h-4 w-4 fill-current" viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M3 4.5C3 3.67157 3.67157 3 4.5 3H9.5C10.0523 3 10.5 3.44772 10.5 4C10.5 4.55228 10.0523 5 9.5 5H5V15H9.5C10.0523 15 10.5 15.4477 10.5 16C10.5 16.5523 10.0523 17 9.5 17H4.5C3.67157 17 3 16.3284 3 15.5V4.5ZM13.2929 6.29289C13.6834 5.90237 14.3166 5.90237 14.7071 6.29289L17.7071 9.29289C18.0976 9.68342 18.0976 10.3166 17.7071 10.7071L14.7071 13.7071C14.3166 14.0976 13.6834 14.0976 13.2929 13.7071C12.9024 13.3166 12.9024 12.6834 13.2929 12.2929L14.5858 11H8C7.44772 11 7 10.5523 7 10C7 9.44772 7.44772 9 8 9H14.5858L13.2929 7.70711C12.9024 7.31658 12.9024 6.68342 13.2929 6.29289Z" />
      </svg>
      <span th:text="${label}">Item</span>
    </button>
  </th:block>

  <!-- ===== Dropdown Divider ===== -->
  <th:block th:fragment="divider">
    <hr class="my-1 border-gray-200 dark:border-gray-700" />
  </th:block>

  <!-- ===== Dropdown Header ===== -->
  <th:block th:fragment="header(title)">
    <div class="px-4 py-2">
      <p
        class="text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400"
        th:text="${title}">
        Seção
      </p>
    </div>
  </th:block>

  <!-- ===== Icon Only Dropdown (3 dots) ===== -->
  <th:block th:fragment="iconOnly(id)">
    <div x-data="{ open: false }" class="relative inline-block text-left">
      <button
        type="button"
        @click="open = !open"
        @click.away="open = false"
        class="inline-flex items-center justify-center rounded-lg p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-brand-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300">
        <svg class="h-5 w-5 fill-current" viewBox="0 0 20 20">
          <path
            d="M10 6C8.89543 6 8 5.10457 8 4C8 2.89543 8.89543 2 10 2C11.1046 2 12 2.89543 12 4C12 5.10457 11.1046 6 10 6ZM10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM8 16C8 17.1046 8.89543 18 10 18C11.1046 18 12 17.1046 12 16C12 14.8954 11.1046 14 10 14C8.89543 14 8 14.8954 8 16Z" />
        </svg>
      </button>
      <div
        x-show="open"
        x-transition:enter="transition ease-out duration-100"
        x-transition:enter-start="opacity-0 scale-95"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-75"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-95"
        class="absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-lg border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800"
        style="display: none">
        <div class="py-1" th:insert="${~{:: content}}">
          <!-- Menu content -->
        </div>
      </div>
    </div>
  </th:block>

  <!-- ===== User Dropdown (with avatar) ===== -->
  <th:block th:fragment="user(avatarSrc, name, email)">
    <div x-data="{ open: false }" class="relative inline-block text-left">
      <button
        type="button"
        @click="open = !open"
        @click.away="open = false"
        class="flex items-center gap-2 rounded-lg p-1.5 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-brand-500 dark:hover:bg-gray-700">
        <div class="h-8 w-8 overflow-hidden rounded-full">
          <img th:src="${avatarSrc}" th:alt="${name}" class="h-full w-full object-cover" />
        </div>
        <div class="hidden text-left md:block">
          <p class="text-sm font-medium text-gray-700 dark:text-gray-300" th:text="${name}">Nome</p>
          <p class="text-xs text-gray-500 dark:text-gray-400" th:text="${email}">
            email@exemplo.com
          </p>
        </div>
        <svg
          class="h-4 w-4 fill-current text-gray-500"
          :class="{ 'rotate-180': open }"
          viewBox="0 0 20 20">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289L10 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68342 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z" />
        </svg>
      </button>
      <div
        x-show="open"
        x-transition:enter="transition ease-out duration-100"
        x-transition:enter-start="opacity-0 scale-95"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-75"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-95"
        class="absolute right-0 z-50 mt-2 w-56 origin-top-right rounded-lg border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800"
        style="display: none">
        <div class="py-1" th:insert="${~{:: content}}">
          <!-- Menu content -->
        </div>
      </div>
    </div>
  </th:block>
</html>
